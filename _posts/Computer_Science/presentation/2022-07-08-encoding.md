---
layout: post
title: encoding
description: ''
date: '2022-07-08'
categories: presentation mindset
note: 有很多例子要補，但很難處理說真的，最好還是先看完那篇文章
mathjax: true
mermaid:
p5:
threeJS:
anchor:
publish: true
---

## Introduction

This article describes the concept of encodings with

* 7 bit ASCII (encoding): basic 128 characters
* 8 bit encodings: extensions of 7 bit ASCII
* Unicode (character set): put every characters in the world in a sets
* 16 bit encodings
* winner of 8 bit encoding, UTF-8

## Why?

Given character sets, we need a way to tell computers which character to use, so we need a character encoding standard for electronic communication such as ASCII.

## How?

### 7 bit ASCII

* ASCII = American Standard Code for Information Interchange
* Why 7 bits? Computers were using 8-bit bytes when ASCII invented, so they must can store all characters and had a whole bit to spare
* 7 bits -> 128 possible values ($$2^7$$) -> use numbers, 0 ~ 127, to represent control characters (0 ~ 31) and printable characters (32 ~ 127)
* control characters: characters that don't represent printable character yet rather serves to start particular action such that 7 makes computer to beep.
* printable characters: All common characters such as a, 1, !,  , ...etc

Please refer to appendix for full list of ASCII

### 8 bit encodings

There are more languages other than English and we can deal with them with the spare of 1 bit, so try to fill the characters other than English into 128~255 ($$2^8 = 256$$); for example,

* 8 bit single byte
  * Latin: EBCDIC
  * Western: ISO/IEC 8859, MS-Windows, MAC OS Roman
  * Russian related: KOI8, MIK
  * South Asian: ISCII, TSCII, VSCII
* 8 bit double byte
  * Japanese: JIS
  * Simplified Chinese: Guobiao
  * Traditional Chinese: Big5
  * Korean: KS X 1001
  
#### double byte vs single byte

TBC

### Unicode (character set)

For example,

<div class="w-1/2 mx-auto">
  <img src="/assets/img/unicode_examples.png" alt="">
</div>

### 16 bits encodings

### UTF-8

Given Unicode, this is possible

* 8 bit and 1 to 4 byte


The problem arouse because every language has their own characters and different versions of encoding created, causing problems when we want to **switch languages in same environment**, then wrong string showed on screen; for example,



```ruby
'a'.bytes
'あ'.bytes
'啊'.bytes
```

### unicode



#### example of unicode

16 bit: 0-9, A~F

### UTF-8

The Difference Between Unicode and UTF-8
Unicode is a character set. UTF-8 is encoding.

Unicode is a list of characters with unique decimal numbers (code points). A = 65, B = 66, C = 67, ....

This list of decimal numbers represent the string "hello": 104 101 108 108 111

Encoding is how these numbers are translated into binary numbers to be stored in a computer:

UTF-8 encoding will store "hello" like this (binary): 01101000 01100101 01101100 01101100  01101111

### fix encoding bugs (這可能要放在 what)

```ruby
'a'.encoding
'あ'.encoding
'啊'.encoding
```

這邊用兩個主要的語言來講一下 ASCII，然後說明如果在同一個環境，這兩個語言是一定會互相搞砸檔案的

But still, most people just pretended that a byte was a character and a character was 8 bits and as long as you never moved a string from one computer to another, or spoke more than one language, it would sort of always work. But of course, as soon as the Internet happened, it became quite commonplace to move strings from one computer to another, and the whole mess came tumbling down. Luckily, Unicode had been invented.

## What?

internationalization

the example of that japanese presentation

the common problems in ruby

## Appendix

### encoding rule in 7-bit ASCII

|Dec | Char                        | Dec | Char  | Dec | Char | Dec | Char
|  0 | NUL (null)                  |  32 | SPACE |  64 | @    |  96 | `
|  1 | SOH (start of heading)      |  33 | !     |  65 | A    |  97 | a
|  2 | STX (start of text)         |  34 | "     |  66 | B    |  98 | b
|  3 | ETX (end of text)           |  35 | #     |  67 | C    |  99 | c
|  4 | EOT (end of transmission)   |  36 | $     |  68 | D    | 100 | d
|  5 | ENQ (enquiry)               |  37 | %     |  69 | E    | 101 | e
|  6 | ACK (acknowledge)           |  38 | &     |  70 | F    | 102 | f
|  7 | BEL (bell)                  |  39 | '     |  71 | G    | 103 | g
|  8 | BS  (backspace)             |  40 | (     |  72 | H    | 104 | h
|  9 | TAB (horizontal tab)        |  41 | )     |  73 | I    | 105 | i
| 10 | LF  (NL line feed, new line)|  42 | *     |  74 | J    | 106 | j
| 11 | VT  (vertical tab)          |  43 | +     |  75 | K    | 107 | k
| 12 | FF  (NP form feed, new page)|  44 | ,     |  76 | L    | 108 | l
| 13 | CR  (carriage return)       |  45 | -     |  77 | M    | 109 | m
| 14 | SO  (shift out)             |  46 | .     |  78 | N    | 110 | n
| 15 | SI  (shift in)              |  47 | /     |  79 | O    | 111 | o
| 16 | DLE (data link escape)      |  48 | 0     |  80 | P    | 112 | p
| 17 | DC1 (device control 1)      |  49 | 1     |  81 | Q    | 113 | q
| 18 | DC2 (device control 2)      |  50 | 2     |  82 | R    | 114 | r
| 19 | DC3 (device control 3)      |  51 | 3     |  83 | S    | 115 | s
| 20 | DC4 (device control 4)      |  52 | 4     |  84 | T    | 116 | t
| 21 | NAK (negative acknowledge)  |  53 | 5     |  85 | U    | 117 | u
| 22 | SYN (synchronous idle)      |  54 | 6     |  86 | V    | 118 | v
| 23 | ETB (end of trans. block)   |  55 | 7     |  87 | W    | 119 | w
| 24 | CAN (cancel)                |  56 | 8     |  88 | X    | 120 | x
| 25 | EM  (end of medium)         |  57 | 9     |  89 | Y    | 121 | y
| 26 | SUB (substitute)            |  58 | :     |  90 | Z    | 122 | z
| 27 | ESC (escape)                |  59 | ;     |  91 | [    | 123 | {
| 28 | FS  (file separator)        |  60 | <     |  92 | \    | 124 | |
| 29 | GS  (group separator)       |  61 | =     |  93 | ]    | 125 | }
| 30 | RS  (record separator)      |  62 | >     |  94 | ^    | 126 | ~
| 31 | US  (unit separator)        |  63 | ?     |  95 | _    | 127 | DEL|

### list of 8-bit encodings

The encoding rule are case by case in each 8-bit encoding and please refer to [common character encodings](https://en.wikipedia.org/wiki/Character_encoding#Common_character_encodings) in wiki.


## Reference

[The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/)

[ASCII Table](https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html)

[ASCII](https://en.wikipedia.org/wiki/ASCII)

[ASCII 控制字符(美國標準資訊交換標準碼)](http://www.eion.com.tw/Blogger/?Pid=1128)

[3 Steps to Fix Encoding Problems in Ruby](https://www.justinweiss.com/articles/3-steps-to-fix-encoding-problems-in-ruby/)

[[JA] Dive into Encoding / Mari Imaizumi @ima1zumi](https://www.youtube.com/watch?v=9PA6twS9Oq4)

[Character encoding](https://en.wikipedia.org/wiki/Character_encoding)

[Double-byte character set fundamentals](https://www.ibm.com/docs/en/i/7.3?topic=support-double-byte-character-set-fundamentals)

[Unicode character encoding](https://www.ibm.com/docs/en/db2/11.5?topic=support-unicode-character-encoding)

[UNICODE](https://home.unicode.org/)

[A Rubyist's Introduction to Character Encoding, Unicode and UTF-8](https://www.honeybadger.io/blog/the-rubyist-guide-to-unicode-utf8/)
